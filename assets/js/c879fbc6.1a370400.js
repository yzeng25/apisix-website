"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[9302],{35318:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var n=r(27378);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=u(r),f=i,d=m["".concat(s,".").concat(f)]||m[f]||c[f]||a;return r?n.createElement(d,o(o({ref:t},p),{},{components:r})):n.createElement(d,o({ref:t},p))}));function f(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,o=new Array(a);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var u=2;u<a;u++)o[u]=r[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},1388:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>u});var n=r(25773),i=(r(27378),r(35318));const a={title:"Release Apache APISIX 3.3.0",authors:[{name:"Yuanhao Zeng",title:"Author",url:"https://github.com/leslie-tsang",image_url:"https://avatars.githubusercontent.com/u/59061168?v=4"},{name:"Yilia Lin",title:"Technical Writer",url:"https://github.com/Yilialinn",image_url:"https://avatars.githubusercontent.com/u/114121331?v=4"}],keywords:["Apache APISIX","API Gateway","API Management Platform","New Release","Cloud Native"],description:"The Apache APISIX 3.3.0 version is officially released on April 30. This version provides better performance in multi-domain matching scenarios.",tags:["Community"]},o=void 0,l={permalink:"/blog/2023/05/08/release-apache-apisix-3.3.0",source:"@site/blog/2023/05/08/release-apache-apisix-3.3.0.md",title:"Release Apache APISIX 3.3.0",description:"The Apache APISIX 3.3.0 version is officially released on April 30. This version provides better performance in multi-domain matching scenarios.",date:"2023-05-08T00:00:00.000Z",formattedDate:"May 8, 2023",tags:[{label:"Community",permalink:"/blog/tags/community"}],readingTime:1.855,truncated:!0,authors:[{name:"Yuanhao Zeng",title:"Author",url:"https://github.com/leslie-tsang",image_url:"https://avatars.githubusercontent.com/u/59061168?v=4",imageURL:"https://avatars.githubusercontent.com/u/59061168?v=4"},{name:"Yilia Lin",title:"Technical Writer",url:"https://github.com/Yilialinn",image_url:"https://avatars.githubusercontent.com/u/114121331?v=4",imageURL:"https://avatars.githubusercontent.com/u/114121331?v=4"}],prevItem:{title:"Biweekly Report (Apr 24 - May 07)",permalink:"/blog/2023/05/12/weekly-report-0512"},nextItem:{title:"Biweekly Report (Apr 10 - Apr 23)",permalink:"/blog/2023/04/26/weekly-report-0426"}},s={authorsImageUrls:[void 0,void 0]},u=[{value:"APISIX 3.3.0 New Features",id:"apisix-330-new-features",children:[],level:2},{value:"New Features",id:"new-features",children:[{value:"Support for storing routing certificates in secrets manager",id:"support-for-storing-routing-certificates-in-secrets-manager",children:[],level:3},{value:"Support for bypassing Admin API authentication via configuration",id:"support-for-bypassing-admin-api-authentication-via-configuration",children:[],level:3},{value:"Optimization and more small features",id:"optimization-and-more-small-features",children:[],level:3}],level:2}],p={toc:u};function c(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The Apache APISIX 3.3.0 version is officially released. This version provides better performance in multi-domain matching scenarios.")),(0,i.kt)("h2",{id:"apisix-330-new-features"},"APISIX 3.3.0 New Features"),(0,i.kt)("p",null,"After a month, the new version came again. APISIX 3.3.0 is the first new version since the LTS version 3.2.0. In the new era of 3.x, we will continue to provide you with more new features."),(0,i.kt)("p",null,"The version 3.3.0 changes the default route matching mode from ",(0,i.kt)("inlineCode",{parentName:"p"},"radixtree_uri")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"radixtree_host_uri"),", which provides better performance in multi-domain matching scenarios. As usual, many features are added to optimize the experience of using APISIX."),(0,i.kt)("h2",{id:"new-features"},"New Features"),(0,i.kt)("h3",{id:"support-for-storing-routing-certificates-in-secrets-manager"},"Support for storing routing certificates in secrets manager"),(0,i.kt)("p",null,"APISIX 3.3.0 version supports loading certificates from Vault, which provides better security guarantees."),(0,i.kt)("p",null,"Step 1: Configure Vault Parameters"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'$ curl http://127.0.0.1:9180/apisix/admin/secrets/vault/test1 -H \'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1\' -X PUT -i -d \'\n{\n    "uri": "http://127.0.0.1:8200",\n    "prefix": "kv/apisix",\n    "token" : "root"\n}\'\n')),(0,i.kt)("p",null,"Step 2: Use ",(0,i.kt)("inlineCode",{parentName:"p"},"$secret://")," syntax on the SSL object to refer to the configuration of the vault-related path, and APISIX will obtain the relevant certificate from the corresponding vault resource path."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'$ curl http://127.0.0.1:9180/apisix/admin/ssls/1 -H \'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1\' -X PUT -i -d \'\n{\n    "cert": "$secret://vault/test1/ssl/test2.com.crt",\n    "key": "$secret://vault/test1/ssl/test2.com.key",\n    "sni": "test2.com"\n}\'\n')),(0,i.kt)("p",null,"Finally, configure the above SSL object on the specific route, and the route certificate can be loaded from the vault."),(0,i.kt)("h3",{id:"support-for-bypassing-admin-api-authentication-via-configuration"},"Support for bypassing Admin API authentication via configuration"),(0,i.kt)("p",null,"By default, APISIX will check ",(0,i.kt)("inlineCode",{parentName:"p"},"X-API-KEY"),", now you can turn off the ",(0,i.kt)("inlineCode",{parentName:"p"},"admin_key_required")," configuration item in the configuration file to turn off related checks."),(0,i.kt)("p",null,"Step 1: Modify the config.yaml configuration file"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"...\ndeployment:\n  admin:\n    admin_key_required: false\n...\n")),(0,i.kt)("p",null,"Step 2: Access resources without using admin key"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"curl -v http://127.0.0.1:9180/apisix/admin/routes\n")),(0,i.kt)("p",null,"In this way, the complexity of development and debugging can be simplified."),(0,i.kt)("h3",{id:"optimization-and-more-small-features"},"Optimization and more small features"),(0,i.kt)("p",null,"In addition to the several major features mentioned above, this release also includes many changes worth mentioning:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Support request header injection in fault-injection plugin"),(0,i.kt)("li",{parentName:"ul"},"Provide support for referencing variables captured by route rewrite in proxy-rewrite plugin in other plugins"),(0,i.kt)("li",{parentName:"ul"},"The limit-count plugin provides username and ssl redis authentication methods")),(0,i.kt)("p",null,"If you are interested in the complete update details of the new release, please refer to the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/apache/apisix/blob/master/CHANGELOG.md#330"},"CHANGELOG")," of the 3.3.0 release."))}c.isMDXComponent=!0}}]);